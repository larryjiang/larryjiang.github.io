{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"themes/maupassant/source/css/default.css","path":"css/default.css","modified":0,"renderable":1},{"_id":"themes/maupassant/source/css/donate.css","path":"css/donate.css","modified":0,"renderable":1},{"_id":"themes/maupassant/source/css/style.scss","path":"css/style.scss","modified":0,"renderable":1},{"_id":"themes/maupassant/source/donate/index.html","path":"donate/index.html","modified":0,"renderable":1},{"_id":"themes/maupassant/source/img/AliPayQR.png","path":"img/AliPayQR.png","modified":0,"renderable":1},{"_id":"themes/maupassant/source/img/BTCQR.png","path":"img/BTCQR.png","modified":0,"renderable":1},{"_id":"themes/maupassant/source/img/WeChatQR.png","path":"img/WeChatQR.png","modified":0,"renderable":1},{"_id":"themes/maupassant/source/img/alipay.svg","path":"img/alipay.svg","modified":0,"renderable":1},{"_id":"themes/maupassant/source/img/bitcoin.svg","path":"img/bitcoin.svg","modified":0,"renderable":1},{"_id":"themes/maupassant/source/img/github.svg","path":"img/github.svg","modified":0,"renderable":1},{"_id":"themes/maupassant/source/img/like.svg","path":"img/like.svg","modified":0,"renderable":1},{"_id":"themes/maupassant/source/img/paypal.svg","path":"img/paypal.svg","modified":0,"renderable":1},{"_id":"themes/maupassant/source/img/wechat.svg","path":"img/wechat.svg","modified":0,"renderable":1},{"_id":"themes/maupassant/source/js/codeblock-resizer.js","path":"js/codeblock-resizer.js","modified":0,"renderable":1},{"_id":"themes/maupassant/source/js/donate.js","path":"js/donate.js","modified":0,"renderable":1},{"_id":"themes/maupassant/source/js/fancybox.js","path":"js/fancybox.js","modified":0,"renderable":1},{"_id":"themes/maupassant/source/js/search.js","path":"js/search.js","modified":0,"renderable":1},{"_id":"themes/maupassant/source/js/share.js","path":"js/share.js","modified":0,"renderable":1},{"_id":"themes/maupassant/source/js/smartresize.js","path":"js/smartresize.js","modified":0,"renderable":1},{"_id":"themes/maupassant/source/js/totop.js","path":"js/totop.js","modified":0,"renderable":1},{"_id":"themes/maupassant/source/js/gitment.browser.js","path":"js/gitment.browser.js","modified":0,"renderable":1}],"Cache":[{"_id":"themes/maupassant/LICENSE","hash":"f0ac2f92770650c9835183f79010c0d307b34acd","modified":1513439600776},{"_id":"themes/maupassant/README.md","hash":"253b7eead5dac44c0cbc86dfc25aa352a56850c4","modified":1513439600776},{"_id":"themes/maupassant/_config.yml","hash":"cb512c498758b7b8e13ae743c734fd09f4328619","modified":1513503192312},{"_id":"themes/maupassant/package.json","hash":"f092433469eb87362e831326425a6a5c3c9fea0d","modified":1513439600776},{"_id":"source/_posts/first.md","hash":"eb65a520cbb382b2d4a8ffe815d5e62c7d4cf4e8","modified":1513504135776},{"_id":"source/_posts/jmm-illustrated.md","hash":"22e8b5814dc67ea7fffc10ff2ddc9529ec629796","modified":1515934139620},{"_id":"themes/maupassant/languages/de-DE.yml","hash":"5d3556a885e355a8c2da65ef3e7b3ee36a628bfa","modified":1513439600776},{"_id":"themes/maupassant/languages/en.yml","hash":"9dc51349f64e882433957c00dc757366229e0269","modified":1513439600776},{"_id":"themes/maupassant/languages/es-ES.yml","hash":"58e1d04bcd1834fa9d2960e18e027abbbccbedc9","modified":1513439600776},{"_id":"themes/maupassant/languages/fr-FR.yml","hash":"b47906ec0abf867fb3e3360bc046b7afb68aee25","modified":1513439600776},{"_id":"themes/maupassant/languages/ko.yml","hash":"909a33e0befa6978e8e72157c6b415b48551ee31","modified":1513439600776},{"_id":"themes/maupassant/languages/ru.yml","hash":"2476a631f4d3c668de04af85a6c2c97ba2a57e96","modified":1513439600776},{"_id":"themes/maupassant/languages/zh-CN.yml","hash":"ffce5df2448a80dbad71da115c84b81f42a42778","modified":1513439600776},{"_id":"themes/maupassant/languages/zh-TW.yml","hash":"bf3ab970f2ab3f29ddeb9f59bf98163be635e284","modified":1513439600776},{"_id":"themes/maupassant/layout/archive.pug","hash":"665582bb4092fcd81bfaf4d08fc1689abee1e6c4","modified":1513439600776},{"_id":"themes/maupassant/layout/base-without-sidebar.pug","hash":"16c4d1079450f801b5ac079d3cc101856d8f387c","modified":1513439600776},{"_id":"themes/maupassant/layout/base.pug","hash":"a4e32bcb580b76af9ad0582d9d3f0107e34509ed","modified":1513439600776},{"_id":"themes/maupassant/layout/index.pug","hash":"ebe5495c3514e570af033728e664be4b1d4cd659","modified":1513439600776},{"_id":"themes/maupassant/layout/page.pug","hash":"8cfd307b13cad8be34a1e75c4566f96c1722e08e","modified":1513439600776},{"_id":"themes/maupassant/layout/post.pug","hash":"137cdb71fa974eebd194c9d24bb822339b2ff5f3","modified":1513439600776},{"_id":"themes/maupassant/layout/single-column.pug","hash":"0593f261dc208bb0b5c4232eb41eff597a291bd9","modified":1513439600776},{"_id":"themes/maupassant/layout/timeline.pug","hash":"84fbfc92ccdf291b491140d89557553141a5d3f9","modified":1513439600776},{"_id":"themes/maupassant/layout/_partial/after_footer.pug","hash":"532f540d1813bb7184b688cc22b292943c38fd0f","modified":1513439600776},{"_id":"themes/maupassant/layout/_partial/comments.pug","hash":"ae5537e123f7e95e2a423dce3147ef5f3d3114b6","modified":1513439600776},{"_id":"themes/maupassant/layout/_partial/footer.pug","hash":"650781b5bc8c632658ad6880ba663b1e3bfb5798","modified":1513439600776},{"_id":"themes/maupassant/layout/_partial/head.pug","hash":"25d271612a40a9105bf47804cc979728ae57e1a9","modified":1513439600776},{"_id":"themes/maupassant/layout/_partial/helpers.pug","hash":"acdf9e2d52ee86c831fa15ce1570930c5779bc78","modified":1513439600776},{"_id":"themes/maupassant/layout/_partial/mathjax.pug","hash":"eb38a1b1bbde2556562edbab78c2f90fd7927e9d","modified":1513439600776},{"_id":"themes/maupassant/layout/_partial/mathjax2.pug","hash":"0e2f902fd2f096ff9fcc84f4e60a8b2588962fe3","modified":1513439600776},{"_id":"themes/maupassant/layout/_partial/paginator.pug","hash":"53f9cb77448e84a98da5eb688e2e12b173c555bb","modified":1513439600776},{"_id":"themes/maupassant/layout/_partial/post_nav.pug","hash":"a2d698c84bb6da08195fe870dbd7215f65388d3f","modified":1513439600776},{"_id":"themes/maupassant/layout/_partial/tag.pug","hash":"0f0e6770e9d5dd8040e330d71bbbfadd2df36a28","modified":1513439600776},{"_id":"themes/maupassant/layout/_partial/totop.pug","hash":"8225bbc3cdb9648bc2e6872e5c616a9a1e4def4f","modified":1513439600776},{"_id":"themes/maupassant/layout/_widget/category.pug","hash":"7c6aed762934ca51aa2669b886254da24b77bc14","modified":1513503049964},{"_id":"themes/maupassant/layout/_widget/links.pug","hash":"c45aa7ec00158579e58f1f8dfd890447bb5e5e54","modified":1513439600776},{"_id":"themes/maupassant/layout/_widget/recent_comments.pug","hash":"4102d446f13b02ff617f055c2a8f726bca12744a","modified":1513439600776},{"_id":"themes/maupassant/layout/_widget/recent_posts.pug","hash":"19431336d724d2118e46da43683bce9063176541","modified":1513439600776},{"_id":"themes/maupassant/layout/_widget/search.pug","hash":"6e8e4123cca38840c4607c1a056205972b82bb7b","modified":1513439600776},{"_id":"themes/maupassant/layout/_widget/tag.pug","hash":"132f049ce677d0e38f50073174c4ee4b825d4a06","modified":1513439600776},{"_id":"themes/maupassant/source/css/default.css","hash":"7fbb18b73b44ed11193739c55fce53a6f173cf68","modified":1513439600776},{"_id":"themes/maupassant/source/css/donate.css","hash":"d0079ba8202d925a93ab1cb44f2087b81f476755","modified":1513439600776},{"_id":"themes/maupassant/source/css/style.scss","hash":"fd8349ff25385b2dea1b3edc8e62275448a66bcd","modified":1513439600776},{"_id":"themes/maupassant/source/donate/index.html","hash":"58260d8d8b5cfa3f46705914e6df164d9f08d9dd","modified":1513439600776},{"_id":"themes/maupassant/source/img/AliPayQR.png","hash":"7787b5d91cbf0e19a1260df24f7d949771c7d45b","modified":1513439600776},{"_id":"themes/maupassant/source/img/BTCQR.png","hash":"7d1c80f953bfb6f0a37d432b04c936ea165bfd97","modified":1513439600776},{"_id":"themes/maupassant/source/img/WeChatQR.png","hash":"8c41aca7883e5ff714c56556f5fff8e7e7c38093","modified":1513439600776},{"_id":"themes/maupassant/source/img/alipay.svg","hash":"46cc0552a9f6d700d618db3fcad25e1b8e697e36","modified":1513439600776},{"_id":"themes/maupassant/source/img/bitcoin.svg","hash":"635f7cca5e675d192be2717788175c7a2146013a","modified":1513439600776},{"_id":"themes/maupassant/source/img/github.svg","hash":"90ba9a3b0dc19e70e742a39b014194f801e00f97","modified":1513439600776},{"_id":"themes/maupassant/source/img/like.svg","hash":"22a2754dc454d7b0321b70914fb2936b8d2ea8ab","modified":1513439600776},{"_id":"themes/maupassant/source/img/paypal.svg","hash":"92f3bc495f20a0190d3041be03345c46d6238c25","modified":1513439600776},{"_id":"themes/maupassant/source/img/wechat.svg","hash":"330496ad42446a29f37a2b97fc388ebd77a8cb9f","modified":1513439600776},{"_id":"themes/maupassant/source/js/codeblock-resizer.js","hash":"5d0b786d60bf225d9eabcc9cece2719ff4d9b6cd","modified":1513439600776},{"_id":"themes/maupassant/source/js/donate.js","hash":"780beaaf44b1e6c057752bdbc085b1048937e5e7","modified":1513439600780},{"_id":"themes/maupassant/source/js/fancybox.js","hash":"13c4781570339f4fba76a3d7f202e442817dd605","modified":1513439600780},{"_id":"themes/maupassant/source/js/search.js","hash":"0c0630e2ef213701d393b041f10572e951a27985","modified":1513439600780},{"_id":"themes/maupassant/source/js/share.js","hash":"a2f9de374523dc7f2ddb90ed5f24b668c20d9272","modified":1513439600780},{"_id":"themes/maupassant/source/js/smartresize.js","hash":"3ef157fd877167e3290f42c67a624ea375a46c24","modified":1513439600780},{"_id":"themes/maupassant/source/js/totop.js","hash":"7dbf8fcf582a4fb6eb9b2c60d6de9f9c2091ec4c","modified":1513439600780},{"_id":"themes/maupassant/source/js/gitment.browser.js","hash":"376446d9c5930576016f97dd63e5e6616c94d8d4","modified":1513439600780},{"_id":"public/2017/12/17/jmm-illustrated.html","hash":"e66c6c9768bb4d13b3471ce3de05ce7e9af13803","modified":1515934148060},{"_id":"public/2017/12/16/first.html","hash":"2b18e36a681694c4920ac41ec4e2ff7c9644fccc","modified":1515934148060},{"_id":"public/archives/index.html","hash":"710a548cfeb023794de4e134eb9bf13b991fe82e","modified":1515934148061},{"_id":"public/archives/2017/index.html","hash":"710a548cfeb023794de4e134eb9bf13b991fe82e","modified":1515934148061},{"_id":"public/archives/2017/12/index.html","hash":"710a548cfeb023794de4e134eb9bf13b991fe82e","modified":1515934148061},{"_id":"public/categories/Site-Meta/index.html","hash":"e62991113cd2c40561a8c1fb191dae0516e05017","modified":1515934148061},{"_id":"public/categories/Java/index.html","hash":"f45b5a81e6986889527b38ec1e02a1b65f4b972e","modified":1515934148061},{"_id":"public/index.html","hash":"475519d3e2d57c0ac9afd712348b79320eecc7ac","modified":1515934148061},{"_id":"public/tags/author/index.html","hash":"9ed85eaff367b7aeda381b8218da0591ba6af3d5","modified":1515934148061},{"_id":"public/tags/meta/index.html","hash":"bc95a17d5805347033d0d79f4fb8652aed2cc23f","modified":1515934148061},{"_id":"public/tags/java/index.html","hash":"f477906b1af737a8ec7e6bc2e7696a8b4dfcf013","modified":1515934148061},{"_id":"public/tags/jmm/index.html","hash":"2701fbdeef7fad07f4ccfb499f0d34890fb00132","modified":1515934148061},{"_id":"public/tags/java-memory-model/index.html","hash":"2bf2102d1787d582cccb10265b032b5afb782fd6","modified":1515934148062},{"_id":"public/tags/computer-architecture/index.html","hash":"52749d9668c748967575df6fac060921ac0f3c2b","modified":1515934148062},{"_id":"public/tags/memory/index.html","hash":"fd7b4d737c12b89080431579a7aebc92e2c6c7b7","modified":1515934148062},{"_id":"public/tags/thread/index.html","hash":"7eda2d9a891ef9ec346283566715e36fc9cb4bc6","modified":1515934148062},{"_id":"public/tags/os/index.html","hash":"857fc3d8716a975ac6221a8f744c21339bda83d5","modified":1515934148062},{"_id":"public/tags/PL-Compilers/index.html","hash":"4dec803a0bb1800c54867d4e4862cf5711571696","modified":1515934148062},{"_id":"public/img/AliPayQR.png","hash":"7787b5d91cbf0e19a1260df24f7d949771c7d45b","modified":1514031613654},{"_id":"public/img/BTCQR.png","hash":"7d1c80f953bfb6f0a37d432b04c936ea165bfd97","modified":1514031613654},{"_id":"public/img/WeChatQR.png","hash":"8c41aca7883e5ff714c56556f5fff8e7e7c38093","modified":1514031613654},{"_id":"public/img/alipay.svg","hash":"46cc0552a9f6d700d618db3fcad25e1b8e697e36","modified":1514031613654},{"_id":"public/img/bitcoin.svg","hash":"635f7cca5e675d192be2717788175c7a2146013a","modified":1514031613654},{"_id":"public/img/github.svg","hash":"90ba9a3b0dc19e70e742a39b014194f801e00f97","modified":1514031613657},{"_id":"public/img/like.svg","hash":"22a2754dc454d7b0321b70914fb2936b8d2ea8ab","modified":1514031613657},{"_id":"public/img/paypal.svg","hash":"92f3bc495f20a0190d3041be03345c46d6238c25","modified":1514031613657},{"_id":"public/img/wechat.svg","hash":"330496ad42446a29f37a2b97fc388ebd77a8cb9f","modified":1514031613657},{"_id":"public/css/donate.css","hash":"d0079ba8202d925a93ab1cb44f2087b81f476755","modified":1514031613721},{"_id":"public/donate/index.html","hash":"58260d8d8b5cfa3f46705914e6df164d9f08d9dd","modified":1514031613721},{"_id":"public/js/codeblock-resizer.js","hash":"5d0b786d60bf225d9eabcc9cece2719ff4d9b6cd","modified":1514031613722},{"_id":"public/js/donate.js","hash":"89f0b9d9d0c4fce183161d29c2a44aef750efb27","modified":1514031613722},{"_id":"public/js/fancybox.js","hash":"13c4781570339f4fba76a3d7f202e442817dd605","modified":1514031613722},{"_id":"public/js/search.js","hash":"0c0630e2ef213701d393b041f10572e951a27985","modified":1514031613722},{"_id":"public/js/share.js","hash":"a2f9de374523dc7f2ddb90ed5f24b668c20d9272","modified":1514031613722},{"_id":"public/js/smartresize.js","hash":"3ef157fd877167e3290f42c67a624ea375a46c24","modified":1514031613724},{"_id":"public/js/totop.js","hash":"7dbf8fcf582a4fb6eb9b2c60d6de9f9c2091ec4c","modified":1514031613724},{"_id":"public/css/default.css","hash":"7fbb18b73b44ed11193739c55fce53a6f173cf68","modified":1514031613724},{"_id":"public/css/style.css","hash":"ab15539e091aae43411dcdaeec6d990d58e362f2","modified":1514031613724},{"_id":"public/js/gitment.browser.js","hash":"376446d9c5930576016f97dd63e5e6616c94d8d4","modified":1514031613724}],"Category":[{"name":"Site Meta","_id":"cjbjbbvy40002o2he99vdmuuv"},{"name":"Java","_id":"cjbjbbvyb0004o2he98ybwxam"}],"Data":[],"Page":[],"Post":[{"title":"Genesis","date":"2017-12-16T15:56:19.000Z","_content":"\n\n\n### Intent of of this blog ###\n* As a quick note\n* Explore different kinds of technologies\n<!--more-->\n* As my little memoir recording stuff worth writing  \n","source":"_posts/first.md","raw":"\"title\": \"Genesis\",\n\"date\": \"2017-12-16 23:56:19\",\n\"tags\": [\"author\",\"meta\"],\n\"categories\": \"Site Meta\"\n;;;\n\n\n\n### Intent of of this blog ###\n* As a quick note\n* Explore different kinds of technologies\n<!--more-->\n* As my little memoir recording stuff worth writing  \n","slug":"first","published":1,"updated":"2017-12-17T09:48:55.776Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjbjbbvxf0000o2he67l1r1ui","content":"<h3 id=\"Intent-of-of-this-blog\"><a href=\"#Intent-of-of-this-blog\" class=\"headerlink\" title=\"Intent of of this blog\"></a>Intent of of this blog</h3><ul>\n<li>As a quick note</li>\n<li>Explore different kinds of technologies<a id=\"more\"></a></li>\n<li>As my little memoir recording stuff worth writing  </li>\n</ul>\n","site":{"data":{}},"excerpt":"<h3 id=\"Intent-of-of-this-blog\"><a href=\"#Intent-of-of-this-blog\" class=\"headerlink\" title=\"Intent of of this blog\"></a>Intent of of this blog</h3><ul>\n<li>As a quick note</li>\n<li>Explore different kinds of technologies","more":"</li>\n<li>As my little memoir recording stuff worth writing  </li>\n</ul>"},{"title":"A Note on Java Memory Model: A Buttom-up Perspective","date":"2017-12-17T03:18:42.000Z","toc":true,"_content":"\n\n\n### Preface \nJava Memory Model(abbr. JMM later) has been and will alway be one of the most fundamental and hardest area to understand. Yet, in learning java language, we just can not circumvent this topic. Without deep understanding of Java Memory Model, it is hard to write correct concurrent programs in java. <!-- more -->However, mastering JMM needs significant system level knowledge like computer architecture, operating system, compilers, etc. This note mainly aims to record the process how I understand and learn this topic over time. \n\n### Disclaimer\nThis topic will be update to date and it is not ganranteed that opinions given here are correct. Origins of the references used in this paper will be given [References](#references). \n\n\n### What is the exact definition, and to what extent should we master it\nWhat does JMM do exactly, and why does java have its language level memory model? Before delving into any specifics of Java Memory model, we need to be able to answer thoes two questions. After extensive reading and thinking, I can only answer thoes two questions by citations from gurus in this field. Put it simply and bluntly, I think the answer to the first question in my opinion could be:\n\n* In storage-savvy languages, the memory models appear to answer a simple question:\"What values can a particular read observe?\"<sup>[1](#ref-1)</sup>\n\nand the answer to the second may be:\n\n* Java have built-in support for synchronizaiton and is claimed to be cross-platform, which means it should abstract aways the low level details and promote synchronization into language level.\n\n### Prerequisites\n#### Reorders\nIf all the instructions were to be executed sequentially, it will be a lot easier for us to understand the outcome of a program. However, it is just not the case. Compilers and Operating Systems are free to reorder instructions so that our code is executed more efficiently. Understanding all kinds of reorders may help us comprehend the design behind the JMM. \n\n##### Compiler Optimization\n##### Out-of-order Execution\n\n\n\n\n\n\n\n\n### Some key points in understanding the JMM Model###\n* Understanding the **built-in** synchronization mechanism\n* Understanding the **volatile** keyword, its influence on memory visibility as well as its impact on instruction reordering\n* Unserstanding the semantics of **final** keyword and its influence on object initialization\n\n\n\n\n\n\n\n\n<a name=\"references\"></a>\n### References\n1. <a name=\"ref-1\" href=\"https://shipilev.net/blog/2014/jmm-pragmatics/\">Java Memory Model Pragmatics</a>\n2. <a name=\"ref-2\" href=\"http://www.cs.umd.edu/~pugh/java/memoryModel/jsr-133-faq.html\">Famous JSR133 FAQ</a>\n3. <a name=\"ref-3\" href=\"http://www.hpl.hp.com/techreports/Compaq-DEC/WRL-95-7.pdf\">Shared Memory Consistency Models: A Tutorial</a>\n4. <a name=\"ref-4\" href=\"https://docs.oracle.com/javase/specs/\">Java Language and Virtual Machine Specification</a>\n","source":"_posts/jmm-illustrated.md","raw":"\"title\": \"A Note on Java Memory Model: A Buttom-up Perspective\",\n\"date\": \"2017-12-17 11:18:42\",\n\"tags\": [\"java\", \"jmm\",\"java memory model\", \"computer architecture\", \"memory\",\"thread\",\"os\",\"PL/Compilers\"],\n\"categories\": [\"Java\"],\n\"toc\" : true\n;;;\n\n\n\n### Preface \nJava Memory Model(abbr. JMM later) has been and will alway be one of the most fundamental and hardest area to understand. Yet, in learning java language, we just can not circumvent this topic. Without deep understanding of Java Memory Model, it is hard to write correct concurrent programs in java. <!-- more -->However, mastering JMM needs significant system level knowledge like computer architecture, operating system, compilers, etc. This note mainly aims to record the process how I understand and learn this topic over time. \n\n### Disclaimer\nThis topic will be update to date and it is not ganranteed that opinions given here are correct. Origins of the references used in this paper will be given [References](#references). \n\n\n### What is the exact definition, and to what extent should we master it\nWhat does JMM do exactly, and why does java have its language level memory model? Before delving into any specifics of Java Memory model, we need to be able to answer thoes two questions. After extensive reading and thinking, I can only answer thoes two questions by citations from gurus in this field. Put it simply and bluntly, I think the answer to the first question in my opinion could be:\n\n* In storage-savvy languages, the memory models appear to answer a simple question:\"What values can a particular read observe?\"<sup>[1](#ref-1)</sup>\n\nand the answer to the second may be:\n\n* Java have built-in support for synchronizaiton and is claimed to be cross-platform, which means it should abstract aways the low level details and promote synchronization into language level.\n\n### Prerequisites\n#### Reorders\nIf all the instructions were to be executed sequentially, it will be a lot easier for us to understand the outcome of a program. However, it is just not the case. Compilers and Operating Systems are free to reorder instructions so that our code is executed more efficiently. Understanding all kinds of reorders may help us comprehend the design behind the JMM. \n\n##### Compiler Optimization\n##### Out-of-order Execution\n\n\n\n\n\n\n\n\n### Some key points in understanding the JMM Model###\n* Understanding the **built-in** synchronization mechanism\n* Understanding the **volatile** keyword, its influence on memory visibility as well as its impact on instruction reordering\n* Unserstanding the semantics of **final** keyword and its influence on object initialization\n\n\n\n\n\n\n\n\n<a name=\"references\"></a>\n### References\n1. <a name=\"ref-1\" href=\"https://shipilev.net/blog/2014/jmm-pragmatics/\">Java Memory Model Pragmatics</a>\n2. <a name=\"ref-2\" href=\"http://www.cs.umd.edu/~pugh/java/memoryModel/jsr-133-faq.html\">Famous JSR133 FAQ</a>\n3. <a name=\"ref-3\" href=\"http://www.hpl.hp.com/techreports/Compaq-DEC/WRL-95-7.pdf\">Shared Memory Consistency Models: A Tutorial</a>\n4. <a name=\"ref-4\" href=\"https://docs.oracle.com/javase/specs/\">Java Language and Virtual Machine Specification</a>\n","slug":"jmm-illustrated","published":1,"updated":"2018-01-14T12:48:59.620Z","_id":"cjbjbbvxu0001o2he1695bjsq","comments":1,"layout":"post","photos":[],"link":"","content":"<h3 id=\"Preface\"><a href=\"#Preface\" class=\"headerlink\" title=\"Preface\"></a>Preface</h3><p>Java Memory Model(abbr. JMM later) has been and will alway be one of the most fundamental and hardest area to understand. Yet, in learning java language, we just can not circumvent this topic. Without deep understanding of Java Memory Model, it is hard to write correct concurrent programs in java. <a id=\"more\"></a>However, mastering JMM needs significant system level knowledge like computer architecture, operating system, compilers, etc. This note mainly aims to record the process how I understand and learn this topic over time. </p>\n<h3 id=\"Disclaimer\"><a href=\"#Disclaimer\" class=\"headerlink\" title=\"Disclaimer\"></a>Disclaimer</h3><p>This topic will be update to date and it is not ganranteed that opinions given here are correct. Origins of the references used in this paper will be given <a href=\"#references\">References</a>. </p>\n<h3 id=\"What-is-the-exact-definition-and-to-what-extent-should-we-master-it\"><a href=\"#What-is-the-exact-definition-and-to-what-extent-should-we-master-it\" class=\"headerlink\" title=\"What is the exact definition, and to what extent should we master it\"></a>What is the exact definition, and to what extent should we master it</h3><p>What does JMM do exactly, and why does java have its language level memory model? Before delving into any specifics of Java Memory model, we need to be able to answer thoes two questions. After extensive reading and thinking, I can only answer thoes two questions by citations from gurus in this field. Put it simply and bluntly, I think the answer to the first question in my opinion could be:</p>\n<ul>\n<li>In storage-savvy languages, the memory models appear to answer a simple question:”What values can a particular read observe?”<sup><a href=\"#ref-1\">1</a></sup></li>\n</ul>\n<p>and the answer to the second may be:</p>\n<ul>\n<li>Java have built-in support for synchronizaiton and is claimed to be cross-platform, which means it should abstract aways the low level details and promote synchronization into language level.</li>\n</ul>\n<h3 id=\"Prerequisites\"><a href=\"#Prerequisites\" class=\"headerlink\" title=\"Prerequisites\"></a>Prerequisites</h3><h4 id=\"Reorders\"><a href=\"#Reorders\" class=\"headerlink\" title=\"Reorders\"></a>Reorders</h4><p>If all the instructions were to be executed sequentially, it will be a lot easier for us to understand the outcome of a program. However, it is just not the case. Compilers and Operating Systems are free to reorder instructions so that our code is executed more efficiently. Understanding all kinds of reorders may help us comprehend the design behind the JMM. </p>\n<h5 id=\"Compiler-Optimization\"><a href=\"#Compiler-Optimization\" class=\"headerlink\" title=\"Compiler Optimization\"></a>Compiler Optimization</h5><h5 id=\"Out-of-order-Execution\"><a href=\"#Out-of-order-Execution\" class=\"headerlink\" title=\"Out-of-order Execution\"></a>Out-of-order Execution</h5><h3 id=\"Some-key-points-in-understanding-the-JMM-Model\"><a href=\"#Some-key-points-in-understanding-the-JMM-Model\" class=\"headerlink\" title=\"Some key points in understanding the JMM Model\"></a>Some key points in understanding the JMM Model</h3><ul>\n<li>Understanding the <strong>built-in</strong> synchronization mechanism</li>\n<li>Understanding the <strong>volatile</strong> keyword, its influence on memory visibility as well as its impact on instruction reordering</li>\n<li>Unserstanding the semantics of <strong>final</strong> keyword and its influence on object initialization</li>\n</ul>\n<p><a name=\"references\"></a></p>\n<h3 id=\"References\"><a href=\"#References\" class=\"headerlink\" title=\"References\"></a>References</h3><ol>\n<li><a name=\"ref-1\" href=\"https://shipilev.net/blog/2014/jmm-pragmatics/\" target=\"_blank\" rel=\"noopener\">Java Memory Model Pragmatics</a></li>\n<li><a name=\"ref-2\" href=\"http://www.cs.umd.edu/~pugh/java/memoryModel/jsr-133-faq.html\" target=\"_blank\" rel=\"noopener\">Famous JSR133 FAQ</a></li>\n<li><a name=\"ref-3\" href=\"http://www.hpl.hp.com/techreports/Compaq-DEC/WRL-95-7.pdf\" target=\"_blank\" rel=\"noopener\">Shared Memory Consistency Models: A Tutorial</a></li>\n<li><a name=\"ref-4\" href=\"https://docs.oracle.com/javase/specs/\" target=\"_blank\" rel=\"noopener\">Java Language and Virtual Machine Specification</a></li>\n</ol>\n","site":{"data":{}},"excerpt":"<h3 id=\"Preface\"><a href=\"#Preface\" class=\"headerlink\" title=\"Preface\"></a>Preface</h3><p>Java Memory Model(abbr. JMM later) has been and will alway be one of the most fundamental and hardest area to understand. Yet, in learning java language, we just can not circumvent this topic. Without deep understanding of Java Memory Model, it is hard to write correct concurrent programs in java.","more":"However, mastering JMM needs significant system level knowledge like computer architecture, operating system, compilers, etc. This note mainly aims to record the process how I understand and learn this topic over time. </p>\n<h3 id=\"Disclaimer\"><a href=\"#Disclaimer\" class=\"headerlink\" title=\"Disclaimer\"></a>Disclaimer</h3><p>This topic will be update to date and it is not ganranteed that opinions given here are correct. Origins of the references used in this paper will be given <a href=\"#references\">References</a>. </p>\n<h3 id=\"What-is-the-exact-definition-and-to-what-extent-should-we-master-it\"><a href=\"#What-is-the-exact-definition-and-to-what-extent-should-we-master-it\" class=\"headerlink\" title=\"What is the exact definition, and to what extent should we master it\"></a>What is the exact definition, and to what extent should we master it</h3><p>What does JMM do exactly, and why does java have its language level memory model? Before delving into any specifics of Java Memory model, we need to be able to answer thoes two questions. After extensive reading and thinking, I can only answer thoes two questions by citations from gurus in this field. Put it simply and bluntly, I think the answer to the first question in my opinion could be:</p>\n<ul>\n<li>In storage-savvy languages, the memory models appear to answer a simple question:”What values can a particular read observe?”<sup><a href=\"#ref-1\">1</a></sup></li>\n</ul>\n<p>and the answer to the second may be:</p>\n<ul>\n<li>Java have built-in support for synchronizaiton and is claimed to be cross-platform, which means it should abstract aways the low level details and promote synchronization into language level.</li>\n</ul>\n<h3 id=\"Prerequisites\"><a href=\"#Prerequisites\" class=\"headerlink\" title=\"Prerequisites\"></a>Prerequisites</h3><h4 id=\"Reorders\"><a href=\"#Reorders\" class=\"headerlink\" title=\"Reorders\"></a>Reorders</h4><p>If all the instructions were to be executed sequentially, it will be a lot easier for us to understand the outcome of a program. However, it is just not the case. Compilers and Operating Systems are free to reorder instructions so that our code is executed more efficiently. Understanding all kinds of reorders may help us comprehend the design behind the JMM. </p>\n<h5 id=\"Compiler-Optimization\"><a href=\"#Compiler-Optimization\" class=\"headerlink\" title=\"Compiler Optimization\"></a>Compiler Optimization</h5><h5 id=\"Out-of-order-Execution\"><a href=\"#Out-of-order-Execution\" class=\"headerlink\" title=\"Out-of-order Execution\"></a>Out-of-order Execution</h5><h3 id=\"Some-key-points-in-understanding-the-JMM-Model\"><a href=\"#Some-key-points-in-understanding-the-JMM-Model\" class=\"headerlink\" title=\"Some key points in understanding the JMM Model\"></a>Some key points in understanding the JMM Model</h3><ul>\n<li>Understanding the <strong>built-in</strong> synchronization mechanism</li>\n<li>Understanding the <strong>volatile</strong> keyword, its influence on memory visibility as well as its impact on instruction reordering</li>\n<li>Unserstanding the semantics of <strong>final</strong> keyword and its influence on object initialization</li>\n</ul>\n<p><a name=\"references\"></a></p>\n<h3 id=\"References\"><a href=\"#References\" class=\"headerlink\" title=\"References\"></a>References</h3><ol>\n<li><a name=\"ref-1\" href=\"https://shipilev.net/blog/2014/jmm-pragmatics/\" target=\"_blank\" rel=\"noopener\">Java Memory Model Pragmatics</a></li>\n<li><a name=\"ref-2\" href=\"http://www.cs.umd.edu/~pugh/java/memoryModel/jsr-133-faq.html\" target=\"_blank\" rel=\"noopener\">Famous JSR133 FAQ</a></li>\n<li><a name=\"ref-3\" href=\"http://www.hpl.hp.com/techreports/Compaq-DEC/WRL-95-7.pdf\" target=\"_blank\" rel=\"noopener\">Shared Memory Consistency Models: A Tutorial</a></li>\n<li><a name=\"ref-4\" href=\"https://docs.oracle.com/javase/specs/\" target=\"_blank\" rel=\"noopener\">Java Language and Virtual Machine Specification</a></li>\n</ol>"}],"PostAsset":[],"PostCategory":[{"post_id":"cjbjbbvxf0000o2he67l1r1ui","category_id":"cjbjbbvy40002o2he99vdmuuv","_id":"cjbjbbvyd0006o2hec1rt9jtb"},{"post_id":"cjbjbbvxu0001o2he1695bjsq","category_id":"cjbjbbvyb0004o2he98ybwxam","_id":"cjbjbbvyf000ao2hewdi9ielr"}],"PostTag":[{"post_id":"cjbjbbvxf0000o2he67l1r1ui","tag_id":"cjbjbbvy90003o2hemaeot2w5","_id":"cjbjbbvyf0008o2he9ia9wwlz"},{"post_id":"cjbjbbvxf0000o2he67l1r1ui","tag_id":"cjbjbbvyc0005o2he521syemh","_id":"cjbjbbvyf0009o2hedvkwy44q"},{"post_id":"cjbjbbvxu0001o2he1695bjsq","tag_id":"cjbjbbvyd0007o2hehjt9l3my","_id":"cjbjbbvyh000io2he8fruhtvx"},{"post_id":"cjbjbbvxu0001o2he1695bjsq","tag_id":"cjbjbbvyf000bo2he56301357","_id":"cjbjbbvyi000jo2hefaxd44n0"},{"post_id":"cjbjbbvxu0001o2he1695bjsq","tag_id":"cjbjbbvyg000co2her9o1qobm","_id":"cjbjbbvyi000ko2hedimtahnp"},{"post_id":"cjbjbbvxu0001o2he1695bjsq","tag_id":"cjbjbbvyg000do2he8vcmkc2g","_id":"cjbjbbvyi000lo2heqs8bgz45"},{"post_id":"cjbjbbvxu0001o2he1695bjsq","tag_id":"cjbjbbvyg000eo2he5g1r061i","_id":"cjbjbbvyi000mo2hef0ntazil"},{"post_id":"cjbjbbvxu0001o2he1695bjsq","tag_id":"cjbjbbvyg000fo2heypw5zwf0","_id":"cjbjbbvyi000no2hewu299j24"},{"post_id":"cjbjbbvxu0001o2he1695bjsq","tag_id":"cjbjbbvyh000go2hecsjd67yz","_id":"cjbjbbvyi000oo2he0jxi1mrp"},{"post_id":"cjbjbbvxu0001o2he1695bjsq","tag_id":"cjbjbbvyh000ho2heeoktvhcr","_id":"cjbjbbvyi000po2hejqilpkqv"}],"Tag":[{"name":"author","_id":"cjbjbbvy90003o2hemaeot2w5"},{"name":"meta","_id":"cjbjbbvyc0005o2he521syemh"},{"name":"java","_id":"cjbjbbvyd0007o2hehjt9l3my"},{"name":"jmm","_id":"cjbjbbvyf000bo2he56301357"},{"name":"java memory model","_id":"cjbjbbvyg000co2her9o1qobm"},{"name":"computer architecture","_id":"cjbjbbvyg000do2he8vcmkc2g"},{"name":"memory","_id":"cjbjbbvyg000eo2he5g1r061i"},{"name":"thread","_id":"cjbjbbvyg000fo2heypw5zwf0"},{"name":"os","_id":"cjbjbbvyh000go2hecsjd67yz"},{"name":"PL/Compilers","_id":"cjbjbbvyh000ho2heeoktvhcr"}]}}